{"version":3,"sources":["_weboweZabawy.js"],"names":["isDescendant","parent","child","node","parentNode","space","swiperV","Swiper","direction","spaceBetween","mousewheel","sensitivity","releaseOnEdges","pagination","el","clickable","history","replaceState","key","keyboard","enabled","navigation","nextEl","prevEl","swiperH","dataHistory","document","querySelectorAll","dataId","wrapper","windowWidth","window","innerWidth","initSlug","location","pathname","split","pop","console","log","i","length","getAttribute","current","classList","add","marginBulletHorizontal","style","transform","sV","sH","querySelector","bulletActive","bulletsVertical","containersVertical","containersHorizontal","clientWidth","pushState","dataset","onload","e","addEventListener","event","$arId","$item","enable"],"mappings":"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","file":"../service.min.js","sourcesContent":["var space = 50;\r\n\r\nvar swiperV = new Swiper('.swiper-container-v', {\r\n  direction: 'vertical',\r\n  spaceBetween: space,\r\n  mousewheel: {\r\n    sensitivity: 1,\r\n    releaseOnEdges: true\r\n  },\r\n  pagination: {\r\n    el: '.swiper-pagination-v',\r\n    clickable: true,\r\n    // dynamicBullets: true,\r\n  },\r\n  history: {\r\n    replaceState: true,\r\n    key: ''\r\n  },\r\n  keyboard: {\r\n    enabled: true,\r\n  },\r\n  navigation: {\r\n    nextEl: '.swiper-button-next-v',\r\n    prevEl: '.swiper-button-prev-v',\r\n  },\r\n}\r\n);\r\nvar swiperH = new Swiper('.swiper-container-h', {\r\n  spaceBetween: space,\r\n  pagination: {\r\n    el: '.swiper-pagination-h',\r\n    clickable: true,\r\n    // dynamicBullets: true,\r\n  },\r\n  history: {\r\n    replaceState: true,\r\n    key: ''\r\n  },\r\n  keyboard: {\r\n    enabled: true    \r\n  },\r\n  navigation: {\r\n    nextEl: '.swiper-button-prev-h',\r\n    prevEl: '.swiper-button-prev-h',\r\n  },\r\n});\r\n\r\nfunction isDescendant(parent, child) {\r\n  var node = child.parentNode;\r\n  while (node != null) {\r\n    if (node == parent) {\r\n      return true;\r\n    }\r\n    node = node.parentNode;\r\n  }\r\n  return false;\r\n}\r\n\r\n  var dataHistory = document.querySelectorAll('[data-history]'),\r\n    dataId = document.querySelectorAll('[data-id]'),\r\n    wrapper = document.querySelectorAll('.swiper-wrapper')[0],\r\n    windowWidth = window.innerWidth;\r\n\r\n  var initSlug = document.location.pathname.split(\"/\").pop();\r\n  console.log(\"qweqweqwe \"+ initSlug);\r\n\r\n  if (!initSlug || initSlug == \"\") {\r\n    wrapper.style.transform = \"translate3d(0, 0, 0)\";\r\n    window.history.pushState(\"\",\"\",dataHistory[0].dataset.history);\r\n  }\r\n\r\n  else {\r\n    for (var i = 0; i < dataHistory.length; i++) {\r\n      if (dataHistory[i].getAttribute('data-history') === initSlug) {        \r\n        current = document.querySelectorAll('[data-history]')[i];\r\n        dataHistory[i].classList.add('swiper-slide-active');\r\n      }\r\n    }\r\n    \r\n    for (var i = 0; i < dataId.length; i++) {\r\n      \r\n      if (isDescendant(dataId[i], current) == true) {\r\n\r\n        //TODO\r\n        var marginBulletHorizontal = 8;\r\n\r\n        // console.log(isDescendant(dataId[i], current))\r\n        wrapper.style.transform = \"translate3d(\" + (-i * windowWidth - (i * space)) + \"px, 0, 0)\";\r\n        \r\n        var sV = document.querySelectorAll('.swiper-pagination-v');\r\n        var sH = document.querySelector('.swiper-pagination-h');\r\n        var bulletActive = document.querySelector(\".swiper-pagination-bullet-active\");\r\n        var bulletsVertical = document.querySelectorAll(\".swiper-pagination-v .swiper-pagination-bullet\");\r\n        var containersVertical = document.querySelectorAll(\".swiper-container-v\");\r\n        var containersHorizontal = document.querySelectorAll(\".swiper-container-h\");\r\n        \r\n        for(var i = 0; i<sV.length; i++){\r\n          sV[i].style.transform = \"translateX(\" + ((bulletActive.clientWidth * i) + (marginBulletHorizontal * i)) +\"px)\";      \r\n        }        \r\n      }\r\n    }\r\n  }\r\n\r\nwindow.onload = function (e) {\r\n  var dataHistory = document.querySelectorAll('[data-history]'),\r\n    dataId = document.querySelectorAll('[data-id]'),\r\n    wrapper = document.querySelectorAll('.swiper-wrapper')[0],\r\n    windowWidth = window.innerWidth;\r\n\r\n  var initSlug = document.location.pathname.split(\"/\").pop();\r\n\r\n  if (initSlug) {\r\n\r\n    for (var i = 0; i < dataHistory.length; i++) {\r\n      if (dataHistory[i].getAttribute('data-history') === initSlug) {\r\n\r\n        current = document.querySelectorAll('[data-history]')[i];\r\n        dataHistory[i].classList.add('swiper-slide-active');\r\n      }\r\n    }\r\n    \r\n    for (var i = 0; i < dataId.length; i++) {\r\n      if (isDescendant(dataId[i], current) == true) {\r\n        // console.log(isDescendant(dataId[i], current))\r\n        wrapper.style.transform = \"translate3d(\" + (-i * windowWidth - (i * space)) + \"px, 0, 0)\";\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\ndocument.querySelectorAll('.swiper-wrapper')[0].addEventListener(\"transitionend\", function (event) {\r\n  var $arId = document.querySelector('[data-swiper]').getAttribute('data-swiper'),\r\n      $item = document.location.pathname.split(\"/\").pop();\r\n  console.log(\"STATS: \"+\"gallery\", \"scroll \"+ $arId + \" / \" + $item);\r\n\r\n  for(var i = 0; i<swiperV.length; i++){\r\n    swiperV[i].mousewheel.enable();\r\n  }\r\n});"]}